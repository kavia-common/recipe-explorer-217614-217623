{"is_source_file": true, "format": "Python", "description": "This file sets up database connectivity and ORM configurations using SQLAlchemy. It defines functions for obtaining and managing database sessions, creates database tables, and manages environment variables for database URL configuration.", "external_files": ["dotenv", "sqlalchemy", "typing"], "external_methods": ["load_dotenv", "create_engine", "sessionmaker", "declarative_base"], "published": ["get_db", "create_all_tables", "db_session"], "classes": [], "methods": [{"name": "Generator[Session,None,None] get_db()", "description": "Yields a database session for use within application dependencies, ensuring the session is properly closed after use.", "scope": "", "scopeKind": ""}, {"name": "None create_all_tables()", "description": "Creates all database tables based on the declarative base metadata. To be called during application startup.", "scope": "", "scopeKind": ""}, {"name": "Generator[Session,None,None] db_session()", "description": "Provides a context manager for database sessions, committing if successful and rolling back on exceptions.", "scope": "", "scopeKind": ""}], "calls": ["load_dotenv", "create_engine", "sessionmaker", "declarative_base", "Base.metadata.create_all", "SessionLocal()"], "search-terms": ["database connection", "SQLAlchemy setup", "session management", "create tables", "environment variables"], "state": 2, "file_id": 5, "knowledge_revision": 11, "git_revision": "", "ctags": [{"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/db/database.py", "pattern": "/^Base = declarative_base()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "DATABASE_URL", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/db/database.py", "pattern": "/^DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:\\/\\/\\/.\\/app.db\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable"}, {"_type": "tag", "name": "SessionLocal", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/db/database.py", "pattern": "/^SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine, class_=Session, futu/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "connect_args", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/db/database.py", "pattern": "/^    connect_args = {\"check_same_thread\": False}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "connect_args", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/db/database.py", "pattern": "/^connect_args = {}$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_all_tables", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/db/database.py", "pattern": "/^def create_all_tables() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "db_session", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/db/database.py", "pattern": "/^def db_session() -> Generator[Session, None, None]:$/", "language": "Python", "typeref": "typename:Generator[Session,None,None]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "engine", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/db/database.py", "pattern": "/^engine = create_engine(DATABASE_URL, connect_args=connect_args, future=True)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/db/database.py", "pattern": "/^def get_db() -> Generator[Session, None, None]:$/", "language": "Python", "typeref": "typename:Generator[Session,None,None]", "kind": "function", "signature": "()"}], "hash": "d4d24ec41a41d0d553dc674869c70f69", "format-version": 4, "code-base-name": "recipe_backend", "filename": "recipe_backend/src/db/database.py", "fields": [{"name": "Base = declarative_base()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "str DATABASE_URL", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine, class_=Session, futu/", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "connect_args = {\"check_same_thread\": False}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "connect_args = {}", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "engine = create_engine(DATABASE_URL, connect_args=connect_args, future=True)", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"11": ""}]}