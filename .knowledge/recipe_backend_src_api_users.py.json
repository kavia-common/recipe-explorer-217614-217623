{"is_source_file": true, "format": "Python", "description": "This file defines API routes related to user profile and saved recipes, including endpoints to get current user info, list saved recipes, save/update a recipe, and delete a saved recipe. It uses FastAPI, SQLAlchemy, and application-specific schemas and CRUD operations.", "external_files": ["src/db/database.py", "src/db/schemas.py", "src/db/models.py", "src/api/auth.py", "src/db/crud.py"], "external_methods": ["get_db", "get_current_user", "crud.list_saved", "crud.upsert_saved", "crud.remove_saved"], "published": ["read_users_me", "list_my_saved_recipes", "save_recipe_for_me", "delete_saved_recipe_for_me"], "classes": [], "methods": [{"name": "schemas.UserPublic read_users_me( current_user: models.User = Depends(get_current_user), db: Session = Depends(get_db), )", "description": "Returns the profile of the currently authenticated user.", "scope": "", "scopeKind": ""}, {"name": "List[schemas.SavedRecipePublic] list_my_saved_recipes( current_user: models.User = Depends(get_current_user), db: Session = Depends(get_db), )", "description": "Lists all recipes saved by the current authenticated user.", "scope": "", "scopeKind": ""}, {"name": "schemas.SavedRecipePublic save_recipe_for_me( body: schemas.SavedRecipeCreate, current_user: models.User = Depends(get_current_user), db: Session = Depends(get_db), )", "description": "Creates or updates a saved recipe record for the current user based on the provided data.", "scope": "", "scopeKind": ""}, {"name": "None delete_saved_recipe_for_me( recipe_id: int = Path(..., description=\"Spoonacular recipe ID\"), current_user: models.User = Depends(get_current_user), db: Session = Depends(get_db), )", "description": "Deletes a saved recipe for the current user by its recipe ID.", "scope": "", "scopeKind": ""}], "calls": ["crud.list_saved", "crud.upsert_saved", "crud.remove_saved"], "search-terms": ["users", "saved recipes", "FastAPI user routes", "user profile", "save recipe API", "delete saved recipe", "current user"], "state": 2, "file_id": 10, "knowledge_revision": 33, "git_revision": "ef2bd0c2d1c26c82215b9905fc06bfab1f166e4d", "revision_history": [{"25": ""}, {"33": "ef2bd0c2d1c26c82215b9905fc06bfab1f166e4d"}], "ctags": [{"_type": "tag", "name": "delete_saved_recipe_for_me", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/api/users.py", "pattern": "/^def delete_saved_recipe_for_me($/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "( recipe_id: int = Path(..., description=\"Spoonacular recipe ID\"), current_user: models.User = Depends(get_current_user), db: Session = Depends(get_db), )"}, {"_type": "tag", "name": "list_my_saved_recipes", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/api/users.py", "pattern": "/^def list_my_saved_recipes($/", "language": "Python", "typeref": "typename:List[schemas.SavedRecipePublic]", "kind": "function", "signature": "( current_user: models.User = Depends(get_current_user), db: Session = Depends(get_db), )"}, {"_type": "tag", "name": "read_users_me", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/api/users.py", "pattern": "/^def read_users_me($/", "language": "Python", "typeref": "typename:schemas.UserPublic", "kind": "function", "signature": "( current_user: models.User = Depends(get_current_user), db: Session = Depends(get_db), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/api/users.py", "pattern": "/^router = APIRouter(prefix=\"\\/users\", tags=[\"Users\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "save_recipe_for_me", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217623/recipe_backend/src/api/users.py", "pattern": "/^def save_recipe_for_me($/", "language": "Python", "typeref": "typename:schemas.SavedRecipePublic", "kind": "function", "signature": "( body: schemas.SavedRecipeCreate, current_user: models.User = Depends(get_current_user), db: Session = Depends(get_db), )"}], "hash": "ee7b67f54e47c6092c77dd0b2794f617", "format-version": 4, "code-base-name": "recipe_backend", "filename": "recipe_backend/src/api/users.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/users\", tags=[\"Users\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}